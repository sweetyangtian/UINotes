(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{382:function(t,a,s){"use strict";s.r(a);var n=s(18),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"html2canvas"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#html2canvas"}},[t._v("#")]),t._v(" Html2Canvas")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("特点："),s("br"),t._v("\n只需简单调用并设定配置项即可。脚本使用的所有图像需要驻留在同一个源下，如果页面上有其他画布元素，这些元素已经被跨源内容污染，不再能被html2canvas读取。")])]),t._v(" "),s("li",[s("p",[t._v("原理："),s("br"),t._v("\n将DOM改写为canvas，然后利用canvas的toDataURL方法实现将DOM输出为包含图片展示的data url，将URL赋值给img标签src即可")])]),t._v(" "),s("li",[s("p",[t._v("适用："),s("br"),t._v("\nweb端、H5等有dom结构的页面")])]),t._v(" "),s("li",[s("p",[t._v("注意：")]),t._v(" "),s("ul",[s("li",[t._v("注意图片元素加载完成后再调用 html2canvas")]),t._v(" "),s("li",[t._v("浏览器有滚动条时，或者元素需要定位时，需要指定截图的起始位置")]),t._v(" "),s("li",[t._v("图片中有链接地址时，设置useCORS属性可保证图片的加载")])])]),t._v(" "),s("li",[s("p",[t._v("重要参数：")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("默认值")]),t._v(" "),s("th",{staticStyle:{"text-align":"right"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("useCORS")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("false")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("用来设置是否允许使用跨域的图片进行访问")])]),t._v(" "),s("tr",[s("td",[t._v("x")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("element x-offset")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("裁剪画布x坐标")])]),t._v(" "),s("tr",[s("td",[t._v("y")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("element y-offset")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("裁剪画布y坐标")])]),t._v(" "),s("tr",[s("td",[t._v("scrollX")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("element scrollX")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("渲染元素时使用的x滚动位置")])]),t._v(" "),s("tr",[s("td",[t._v("scrollY")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("element scrollY")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("渲染元素时使用的y滚动位置")])]),t._v(" "),s("tr",[s("td",[t._v("windowWidth")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Window.innerWidth")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("渲染元素时使用的窗口宽度")])]),t._v(" "),s("tr",[s("td",[t._v("windowHeight")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Window.innerHeght")]),t._v(" "),s("td",{staticStyle:{"text-align":"right"}},[t._v("染时使用的窗口高度 Element")])])])]),t._v(" "),s("h3",{attrs:{id:"pc端整个页面截图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pc端整个页面截图"}},[t._v("#")]),t._v(" 🌰 PC端整个页面截图")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("html2canvas")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    useCORS"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    width"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("availWidth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    height"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("availHeight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    windowWidth"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollWidth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    windowHeight"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    x"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    y"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollY\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("canvas")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" url "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" canvas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toDataURL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"h5页面截图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#h5页面截图"}},[t._v("#")]),t._v(" 🌰 H5页面截图")])])}),[],!1,null,null,null);a.default=e.exports}}]);